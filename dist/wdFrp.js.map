{"version":3,"file":"wdFrp.js","sources":["../node_modules/wonder-commonlib/dist/es2015/utils/JudgeUtils.ts","es2015/JudgeUtils.ts","../node_modules/wonder-commonlib/dist/es2015/global/Variable.ts","../node_modules/wonder-commonlib/dist/es2015/Log.ts","es2015/core/Entity.ts","../node_modules/wonder-commonlib/dist/es2015/global/Const.ts","../node_modules/wonder-commonlib/dist/es2015/List.ts","../node_modules/wonder-commonlib/dist/es2015/utils/ExtendUtils.ts","../node_modules/wonder-commonlib/dist/es2015/Collection.ts","es2015/observer/SubjectObserver.ts","es2015/core/Observer.ts","es2015/core/Main.ts","es2015/definition/typescript/decorator/contract.ts","es2015/observer/AutoDetachObserver.ts","es2015/Disposable/InnerSubscription.ts","es2015/subject/Subject.ts","es2015/Disposable/SingleDisposable.ts","es2015/utils/ClassMapUtils.ts","../node_modules/wonder-commonlib/dist/es2015/utils/FunctionUtils.ts","es2015/core/Stream.ts","es2015/global/Variable.ts","es2015/core/Scheduler.ts","es2015/stream/AnonymousStream.ts","es2015/stream/BaseStream.ts","es2015/stream/FromArrayStream.ts","es2015/stream/FromPromiseStream.ts","es2015/stream/FromEventPatternStream.ts","es2015/stream/IntervalStream.ts","es2015/stream/IntervalRequestStream.ts","es2015/stream/TimeoutStream.ts","es2015/Disposable/GroupDisposable.ts","es2015/stream/DeferStream.ts","es2015/definition/typescript/decorator/registerClass.ts","es2015/global/Operator.ts","es2015/binding/nodejs/NodeOperator.ts","es2015/Disposable/InnerSubscriptionGroup.ts","es2015/enum/FilterState.ts","es2015/observer/AnonymousObserver.ts","es2015/observer/ConcatObserver.ts","es2015/observer/DoObserver.ts","es2015/observer/FilterObserver.ts","es2015/observer/FilterWithStateObserver.ts","es2015/observer/IgnoreElementsObserver.ts","es2015/observer/MapObserver.ts","es2015/observer/MergeAllObserver.ts","es2015/observer/MergeObserver.ts","es2015/observer/SkipUntilOtherObserver.ts","es2015/observer/SkipUntilSourceObserver.ts","es2015/observer/TakeUntilObserver.ts","es2015/stream/ConcatStream.ts","es2015/stream/DoStream.ts","es2015/stream/FilterStream.ts","es2015/stream/FilterWithStateStream.ts","es2015/stream/IgnoreElementsStream.ts","es2015/stream/MapStream.ts","es2015/stream/MergeAllStream.ts","es2015/stream/MergeStream.ts","es2015/stream/RepeatStream.ts","es2015/stream/SkipUntilStream.ts","es2015/stream/TakeUntilStream.ts","es2015/subject/GeneratorSubject.ts","es2015/testing/ActionType.ts","es2015/testing/Record.ts","es2015/testing/MockObserver.ts","es2015/testing/MockPromise.ts","../node_modules/wonder-commonlib/dist/es2015/Hash.ts","es2015/testing/TestStream.ts","es2015/testing/TestScheduler.ts","es2015/extend/root.ts"],"sourcesContent":["declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","import { JudgeUtils as JudgeUtils$ } from \"wonder-commonlib/dist/es2015/utils/JudgeUtils\";\r\nimport { Entity } from \"./core/Entity\";\r\nimport { IObserver } from \"./observer/IObserver\";\r\n\r\nexport class JudgeUtils extends JudgeUtils$ {\r\n    public static isPromise(obj) {\r\n        return !!obj\r\n            && !super.isFunction(obj.subscribe)\r\n            && super.isFunction(obj.then);\r\n    }\r\n\r\n    public static isEqual(ob1: Entity, ob2: Entity) {\r\n        return ob1.uid === ob2.uid;\r\n    }\r\n\r\n    public static isIObserver(i: IObserver) {\r\n        return i.next && i.error && i.completed;\r\n    }\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse {\r\n    root = window;\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","export abstract class Entity {\r\n    public static UID: number = 1;\r\n\r\n    private _uid: string = null;\r\n    get uid() {\r\n        return this._uid;\r\n    }\r\n    set uid(uid: string) {\r\n        this._uid = uid;\r\n    }\r\n\r\n    constructor(uidPre: string) {\r\n        this._uid = uidPre + String(Entity.UID++);\r\n    }\r\n}","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { IObserver } from \"./IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport class SubjectObserver implements IObserver {\r\n    public observers: Collection<IObserver> = Collection.create<IObserver>();\r\n\r\n    private _disposable: IDisposable = null;\r\n\r\n    public isEmpty() {\r\n        return this.observers.getCount() === 0;\r\n    }\r\n\r\n    public next(value: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.next(value);\r\n        });\r\n    }\r\n\r\n    public error(error: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.error(error);\r\n        });\r\n    }\r\n\r\n    public completed() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.completed();\r\n        });\r\n    }\r\n\r\n    public addChild(observer: Observer) {\r\n        this.observers.addChild(observer);\r\n\r\n        observer.setDisposable(this._disposable);\r\n    }\r\n\r\n    public removeChild(observer: Observer) {\r\n        this.observers.removeChild((ob: Observer) => {\r\n            return JudgeUtils.isEqual(ob, observer);\r\n        });\r\n    }\r\n\r\n    public dispose() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.dispose();\r\n        });\r\n\r\n        this.observers.removeAllChildren();\r\n    }\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this.observers.forEach((observer: Observer) => {\r\n            observer.setDisposable(disposable);\r\n        });\r\n\r\n        this._disposable = disposable;\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\n\r\nexport abstract class Observer extends Entity implements IObserver {\r\n    private _isDisposed: boolean = null;\r\n    get isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    set isDisposed(isDisposed: boolean) {\r\n        this._isDisposed = isDisposed;\r\n    }\r\n\r\n    protected onUserNext: Function = null;\r\n    protected onUserError: Function = null;\r\n    protected onUserCompleted: Function = null;\r\n\r\n    private _isStop: boolean = false;\r\n    //private _disposeHandler:wdCb.Collection<Function> = wdCb.Collection.create<Function>();\r\n    private _disposable: IDisposable = null;\r\n\r\n\r\n    constructor(observer: IObserver);\r\n    constructor(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    constructor(...args) {\r\n        super(\"Observer\");\r\n\r\n        if (args.length === 1) {\r\n            let observer: IObserver = args[0];\r\n\r\n            this.onUserNext = function(v) {\r\n                observer.next(v);\r\n            };\r\n            this.onUserError = function(e) {\r\n                observer.error(e);\r\n            };\r\n            this.onUserCompleted = function() {\r\n                observer.completed();\r\n            };\r\n        }\r\n        else {\r\n            let onNext = args[0],\r\n                onError = args[1],\r\n                onCompleted = args[2];\r\n\r\n            this.onUserNext = onNext || function(v) { };\r\n            this.onUserError = onError || function(e) {\r\n                throw e;\r\n            };\r\n            this.onUserCompleted = onCompleted || function() { };\r\n        }\r\n    }\r\n\r\n    public next(value: any) {\r\n        if (!this._isStop) {\r\n            return this.onNext(value);\r\n        }\r\n    }\r\n\r\n    public error(error: any) {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onError(error);\r\n        }\r\n    }\r\n\r\n    public completed() {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onCompleted();\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        this._isStop = true;\r\n        this._isDisposed = true;\r\n\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n        }\r\n\r\n        //this._disposeHandler.forEach((handler) => {\r\n        //    handler();\r\n        //});\r\n    }\r\n\r\n    //public fail(e) {\r\n    //    if (!this._isStop) {\r\n    //        this._isStop = true;\r\n    //        this.error(e);\r\n    //        return true;\r\n    //    }\r\n    //\r\n    //    return false;\r\n    //}\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this._disposable = disposable;\r\n    }\r\n\r\n    protected abstract onNext(value: any);\r\n\r\n    protected abstract onError(error: any);\r\n\r\n    protected abstract onCompleted();\r\n}","export class Main {\r\n    public static isTest: boolean = false;\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Main } from \"../../../core/Main\";\r\n\r\nexport function assert(cond: boolean, message: string = \"contract error\") {\r\n    Log.error(!cond, message);\r\n}\r\n\r\nexport function requireCheck(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            if (Main.isTest) {\r\n                InFunc.apply(this, args);\r\n            }\r\n\r\n            return value.apply(this, args);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensure(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            var result = value.apply(this, args),\r\n                params = [result].concat(args);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireGetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            if (Main.isTest) {\r\n                InFunc.call(this);\r\n            }\r\n\r\n            return getter.call(this);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireSetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            if (Main.isTest) {\r\n                InFunc.call(this, val);\r\n            }\r\n\r\n            setter.call(this, val);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            var result = getter.call(this);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.call(this, result);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureSetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            var result = setter.call(this, val),\r\n                params = [result, val];\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function invariant(func) {\r\n    return function(target) {\r\n        if (Main.isTest) {\r\n            func(target);\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\nexport class AutoDetachObserver extends Observer {\r\n    public static create(observer: IObserver);\r\n    public static create(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    public static create(...args) {\r\n        if (args.length === 1) {\r\n            return new this(args[0]);\r\n        }\r\n        else {\r\n            return new this(args[0], args[1], args[2]);\r\n        }\r\n    }\r\n\r\n    @requireCheck(function() {\r\n        if (this.isDisposed) {\r\n            Log.warn(\"only can dispose once\");\r\n        }\r\n    })\r\n    public dispose() {\r\n        if (this.isDisposed) {\r\n            return;\r\n        }\r\n\r\n        super.dispose();\r\n    }\r\n\r\n    protected onNext(value: any) {\r\n        try {\r\n            this.onUserNext(value);\r\n        }\r\n        catch (e) {\r\n            this.onError(e);\r\n        }\r\n    }\r\n\r\n    protected onError(error: any) {\r\n        try {\r\n            this.onUserError(error);\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n        finally {\r\n            this.dispose();\r\n        }\r\n    }\r\n\r\n    protected onCompleted() {\r\n        try {\r\n            this.onUserCompleted();\r\n            this.dispose();\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n    }\r\n}","import { IDisposable } from \"./IDisposable\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { GeneratorSubject } from \"../subject/GeneratorSubject\";\r\nimport { Observer } from \"../core/Observer\";\r\n\r\nexport class InnerSubscription implements IDisposable {\r\n    public static create(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        var obj = new this(subject, observer);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _subject: Subject | GeneratorSubject = null;\r\n    private _observer: Observer = null;\r\n\r\n    constructor(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n\r\n    public dispose() {\r\n        this._subject.remove(this._observer);\r\n\r\n        this._observer.dispose();\r\n    }\r\n}","import { IObserver } from \"../observer/IObserver\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { SubjectObserver } from \"../observer/SubjectObserver\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { InnerSubscription } from \"../Disposable/InnerSubscription\";\r\n\r\nexport class Subject implements IObserver {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    set source(source: Stream) {\r\n        this._source = source;\r\n    }\r\n\r\n    private _observer: any = new SubjectObserver();\r\n\r\n    public subscribe(arg1?: Function | Observer, onError?: Function, onCompleted?: Function): IDisposable {\r\n        var observer: Observer = arg1 instanceof Observer\r\n            ? <AutoDetachObserver>arg1\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //this._source && observer.setDisposeHandler(this._source.disposeHandler);\r\n\r\n        this._observer.addChild(observer);\r\n\r\n        return InnerSubscription.create(this, observer);\r\n    }\r\n\r\n    public next(value: any) {\r\n        this._observer.next(value);\r\n    }\r\n\r\n    public error(error: any) {\r\n        this._observer.error(error);\r\n    }\r\n\r\n    public completed() {\r\n        this._observer.completed();\r\n    }\r\n\r\n    public start() {\r\n        if (!this._source) {\r\n            return;\r\n        }\r\n\r\n        this._observer.setDisposable(this._source.buildStream(this));\r\n    }\r\n\r\n    public remove(observer: Observer) {\r\n        this._observer.removeChild(observer);\r\n    }\r\n\r\n    public dispose() {\r\n        this._observer.dispose();\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\n\r\nexport class SingleDisposable extends Entity implements IDisposable {\r\n    public static create(disposeHandler: Function = function() { }) {\r\n        var obj = new this(disposeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _disposeHandler: Function = null;\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposeHandler: Function) {\r\n        super(\"SingleDisposable\");\r\n\r\n        this._disposeHandler = disposeHandler;\r\n    }\r\n\r\n    public setDisposeHandler(handler: Function) {\r\n        this._disposeHandler = handler;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._disposeHandler();\r\n    }\r\n}","export class ClassMapUtils {\r\n    private static _classMap: ClassMapData = {};\r\n\r\n    public static addClassMap(className: string, _class: any) {\r\n        this._classMap[className] = _class;\r\n    }\r\n\r\n    public static getClass(className: string) {\r\n        return this._classMap[className];\r\n    }\r\n}\r\n\r\ntype ClassMapData = {\r\n    [className: string]: any;\r\n}\r\n","export class FunctionUtils {\r\n    public static bind(object: any, func: Function) {\r\n        return function() {\r\n            return func.apply(object, arguments);\r\n        };\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Entity } from \"./Entity\";\r\nimport { Scheduler } from \"./Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Observer } from \"./Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { FunctionUtils } from \"wonder-commonlib/dist/es2015/utils/FunctionUtils\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport abstract class Stream extends Entity {\r\n    public scheduler: Scheduler = null;\r\n    public subscribeFunc: (observer: IObserver) => Function | void = null;\r\n\r\n    constructor(subscribeFunc) {\r\n        super(\"Stream\");\r\n\r\n        this.subscribeFunc = subscribeFunc || function() { };\r\n    }\r\n\r\n    public abstract subscribe(arg1: Function | Observer | Subject, onError?: Function, onCompleted?: Function): IDisposable;\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public do(onNext?: Function, onError?: Function, onCompleted?: Function) {\r\n        return ClassMapUtils.getClass(\"DoStream\").create(this, onNext, onError, onCompleted);\r\n    }\r\n\r\n    public map(selector: Function) {\r\n        return ClassMapUtils.getClass(\"MapStream\").create(this, selector);\r\n    }\r\n\r\n    public flatMap(selector: Function) {\r\n        return this.map(selector).mergeAll();\r\n    }\r\n\r\n    public concatMap(selector: Function) {\r\n        return this.map(selector).concatAll();\r\n    }\r\n\r\n    public mergeAll() {\r\n        return ClassMapUtils.getClass(\"MergeAllStream\").create(this);\r\n    }\r\n\r\n    public concatAll() {\r\n        return this.merge(1);\r\n    }\r\n\r\n    public skipUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"SkipUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    public takeUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"TakeUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public take(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            self.subscribe((value: any) => {\r\n                if (count > 0) {\r\n                    observer.next(value);\r\n                }\r\n\r\n                count--;\r\n\r\n                if (count <= 0) {\r\n                    observer.completed();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public takeLast(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > count) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                while (queue.length > 0) {\r\n                    observer.next(queue.shift());\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public takeWhile(predicate: (value: any, index: number, source: Stream) => boolean, thisArg = this) {\r\n        var self = this,\r\n            bindPredicate = null;\r\n\r\n        bindPredicate = FunctionUtils.bind(thisArg, predicate);\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var i = 0,\r\n                isStart = false;\r\n\r\n            self.subscribe((value: any) => {\r\n                if (bindPredicate(value, i++, self)) {\r\n                    try {\r\n                        observer.next(value);\r\n                        isStart = true;\r\n                    }\r\n                    catch (e) {\r\n                        observer.error(e);\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    if (isStart) {\r\n                        observer.completed();\r\n                    }\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public lastOrDefault(defaultValue: any = null) {\r\n        var self = this;\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > 1) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                if (queue.length === 0) {\r\n                    observer.next(defaultValue);\r\n                }\r\n                else {\r\n                    while (queue.length > 0) {\r\n                        observer.next(queue.shift());\r\n                    }\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public filter(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public filterWithState(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterWithStateStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public concat(streamArr: Array<Stream>);\r\n    public concat(...otherStream);\r\n\r\n    public concat() {\r\n        var args: Array<Stream> = null;\r\n\r\n        if (JudgeUtils.isArray(arguments[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n            args = Array.prototype.slice.call(arguments, 0);\r\n        }\r\n\r\n        args.unshift(this);\r\n\r\n        return ClassMapUtils.getClass(\"ConcatStream\").create(args);\r\n    }\r\n\r\n    public merge(maxConcurrent: number);\r\n    public merge(streamArr: Array<Stream>);\r\n    public merge(...otherStreams);\r\n\r\n    public merge(...args) {\r\n        if (JudgeUtils.isNumber(args[0])) {\r\n            var maxConcurrent: number = args[0];\r\n\r\n            return ClassMapUtils.getClass(\"MergeStream\").create(this, maxConcurrent);\r\n        }\r\n\r\n        if (JudgeUtils.isArray(args[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n        }\r\n\r\n        let stream: Stream = null;\r\n\r\n        args.unshift(this);\r\n\r\n        stream = ClassMapUtils.getClass(\"Operator\").fromArray(args).mergeAll();\r\n\r\n        return stream;\r\n    }\r\n\r\n    public repeat(count: number = -1) {\r\n        return ClassMapUtils.getClass(\"RepeatStream\").create(this, count);\r\n    }\r\n\r\n    public ignoreElements() {\r\n        return ClassMapUtils.getClass(\"IgnoreElementsStream\").create(this);\r\n    }\r\n\r\n    protected handleSubject(subject: any) {\r\n        if (this._isSubject(subject)) {\r\n            this._setSubject(subject);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private _isSubject(subject: Subject) {\r\n        return subject instanceof Subject;\r\n    }\r\n\r\n    private _setSubject(subject: Subject) {\r\n        subject.source = this;\r\n    }\r\n}","import { JudgeUtils } from \"../JudgeUtils\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\n\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse {\r\n    root = window;\r\n}\r\n","import { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class Scheduler {\r\n    //todo remove \"...args\"\r\n    public static create(...args) {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _requestLoopId: any = null;\r\n    get requestLoopId() {\r\n        return this._requestLoopId;\r\n    }\r\n    set requestLoopId(requestLoopId: any) {\r\n        this._requestLoopId = requestLoopId;\r\n    }\r\n\r\n    //param observer is used by TestScheduler to rewrite\r\n\r\n    public publishRecursive(observer: IObserver, initial: any, action: Function) {\r\n        action(initial);\r\n    }\r\n\r\n    public publishInterval(observer: IObserver, initial: any, interval: number, action: Function): number {\r\n        return root.setInterval(() => {\r\n            initial = action(initial);\r\n        }, interval);\r\n    }\r\n\r\n    public publishIntervalRequest(observer: IObserver, action: Function) {\r\n        var self = this,\r\n            loop = (time) => {\r\n                var isEnd = action(time);\r\n\r\n                if (isEnd) {\r\n                    return;\r\n                }\r\n\r\n                self._requestLoopId = root.requestNextAnimationFrame(loop);\r\n            };\r\n\r\n        this._requestLoopId = root.requestNextAnimationFrame(loop);\r\n    }\r\n\r\n    public publishTimeout(observer: IObserver, time: number, action: Function): number {\r\n        return root.setTimeout(() => {\r\n            action(time);\r\n            observer.completed();\r\n        }, time);\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class AnonymousStream extends Stream {\r\n    public static create(subscribeFunc: Function) {\r\n        var obj = new this(subscribeFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(subscribeFunc: Function) {\r\n        super(subscribeFunc);\r\n\r\n        this.scheduler = Scheduler.create();\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public subscribe(subject: Subject): IDisposable;\r\n    public subscribe(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(onNext: (value: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void, onComplete: () => void): IDisposable;\r\n\r\n    public subscribe(...args): IDisposable {\r\n        var observer: AutoDetachObserver = null;\r\n\r\n        if (args[0] instanceof Subject) {\r\n            let subject: Subject = <Subject>args[0];\r\n\r\n            this.handleSubject(subject);\r\n\r\n            return;\r\n        }\r\n        else if (JudgeUtils.isIObserver(<IObserver>args[0])) {\r\n            observer = AutoDetachObserver.create(<IObserver>args[0]);\r\n        }\r\n        else {\r\n            let onNext: Function = <Function>args[0],\r\n                onError: Function = <Function>args[1] || null,\r\n                onCompleted: Function = <Function>args[2] || null;\r\n\r\n            observer = AutoDetachObserver.create(onNext, onError, onCompleted);\r\n        }\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\n\r\nexport abstract class BaseStream extends Stream {\r\n    public abstract subscribeCore(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(arg1: Function | Observer | Subject, onError?, onCompleted?): IDisposable {\r\n        var observer: Observer = null;\r\n\r\n        if (this.handleSubject(arg1)) {\r\n            return;\r\n        }\r\n\r\n        observer = arg1 instanceof Observer\r\n            ? AutoDetachObserver.create(<IObserver>arg1)\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //observer.setDisposeHandler(this.disposeHandler);\r\n\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        super.buildStream(observer);\r\n\r\n        return this.subscribeCore(observer);\r\n    }\r\n\r\n    //private _hasMultiObservers(){\r\n    //    return this.scheduler.getObservers() > 1;\r\n    //}\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromArrayStream extends BaseStream {\r\n    public static create(array: Array<any>, scheduler: Scheduler) {\r\n        var obj = new this(array, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _array: Array<any> = null;\r\n\r\n    constructor(array: Array<any>, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._array = array;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var array = this._array,\r\n            len = array.length;\r\n\r\n        function loopRecursive(i) {\r\n            if (i < len) {\r\n                observer.next(array[i]);\r\n\r\n                loopRecursive(i + 1);\r\n            } else {\r\n                observer.completed();\r\n            }\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromPromiseStream extends BaseStream {\r\n    public static create(promise: any, scheduler: Scheduler) {\r\n        var obj = new this(promise, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _promise: any = null;\r\n\r\n    constructor(promise: any, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._promise = promise;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        this._promise.then((data) => {\r\n            observer.next(data);\r\n            observer.completed();\r\n        }, (err) => {\r\n            observer.error(err);\r\n        }, observer);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromEventPatternStream extends BaseStream {\r\n    public static create(addHandler: Function, removeHandler: Function) {\r\n        var obj = new this(addHandler, removeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _addHandler: Function = null;\r\n    private _removeHandler: Function = null;\r\n\r\n    constructor(addHandler: Function, removeHandler: Function) {\r\n        super(null);\r\n\r\n        this._addHandler = addHandler;\r\n        this._removeHandler = removeHandler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        function innerHandler(event) {\r\n            observer.next(event);\r\n        }\r\n\r\n        this._addHandler(innerHandler);\r\n\r\n        return SingleDisposable.create(() => {\r\n            self._removeHandler(innerHandler);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalStream extends BaseStream {\r\n    public static create(interval: number, scheduler: Scheduler) {\r\n        var obj = new this(interval, scheduler);\r\n\r\n        obj.initWhenCreate();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _interval: number = null;\r\n\r\n    constructor(interval: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._interval = interval;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public initWhenCreate() {\r\n        this._interval = this._interval <= 0 ? 1 : this._interval;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            id = null;\r\n\r\n        id = this.scheduler.publishInterval(observer, 0, this._interval, (count) => {\r\n            //self.scheduler.next(count);\r\n            observer.next(count);\r\n\r\n            return count + 1;\r\n        });\r\n\r\n        //Disposer.addDisposeHandler(() => {\r\n        //});\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearInterval(id);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalRequestStream extends BaseStream {\r\n    public static create(scheduler: Scheduler) {\r\n        var obj = new this(scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _isEnd: boolean = false;\r\n\r\n    constructor(scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        this.scheduler.publishIntervalRequest(observer, (time) => {\r\n            observer.next(time);\r\n\r\n            return self._isEnd;\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.cancelNextRequestAnimationFrame(self.scheduler.requestLoopId);\r\n            self._isEnd = true;\r\n        });\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { BaseStream } from \"./BaseStream\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class TimeoutStream extends BaseStream {\r\n    @requireCheck(function(time: number, scheduler: Scheduler) {\r\n        assert(time > 0, Log.info.FUNC_SHOULD(\"time\", \"> 0\"));\r\n    })\r\n    public static create(time: number, scheduler: Scheduler) {\r\n        var obj = new this(time, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _time: number = null;\r\n\r\n    constructor(time: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._time = time;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var id = null;\r\n\r\n        id = this.scheduler.publishTimeout(observer, this._time, (time) => {\r\n            observer.next(time);\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearTimeout(id);\r\n        });\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\nexport class GroupDisposable extends Entity implements IDisposable {\r\n    public static create(disposable?: IDisposable) {\r\n        var obj = new this(disposable);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _group: Collection<IDisposable> = Collection.create<IDisposable>();\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposable?: IDisposable) {\r\n        super(\"GroupDisposable\");\r\n\r\n        if (disposable) {\r\n            this._group.addChild(disposable);\r\n        }\r\n    }\r\n\r\n    public add(disposable: IDisposable) {\r\n        this._group.addChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove(disposable: IDisposable) {\r\n        this._group.removeChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._group.forEach((disposable: IDisposable) => {\r\n            disposable.dispose();\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\n\r\nexport class DeferStream extends BaseStream {\r\n    public static create(buildStreamFunc: Function) {\r\n        var obj = new this(buildStreamFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _buildStreamFunc: Function = null;\r\n\r\n    constructor(buildStreamFunc: Function) {\r\n        super(null);\r\n\r\n        this._buildStreamFunc = buildStreamFunc;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var group = GroupDisposable.create();\r\n\r\n        group.add(this._buildStreamFunc().buildStream(observer));\r\n\r\n        return group;\r\n    }\r\n}","import { ClassMapUtils } from \"../../../utils/ClassMapUtils\";\r\n\r\nexport function registerClass(className: string) {\r\n    return function(target) {\r\n        ClassMapUtils.addClassMap(className, target);\r\n    }\r\n}\r\n\r\n","import { AnonymousStream } from \"../stream/AnonymousStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { FromArrayStream } from \"../stream/FromArrayStream\";\r\nimport { FromPromiseStream } from \"../stream/FromPromiseStream\";\r\nimport { FromEventPatternStream } from \"../stream/FromEventPatternStream\";\r\nimport { IntervalStream } from \"../stream/IntervalStream\";\r\nimport { IntervalRequestStream } from \"../stream/IntervalRequestStream\";\r\nimport { TimeoutStream } from \"../stream/TimeoutStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"./Variable\";\r\nimport { DeferStream } from \"../stream/DeferStream\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Operator\")\r\nexport class Operator {\r\n    public static empty() {\r\n        return this.createStream((observer: IObserver) => {\r\n            observer.completed();\r\n        });\r\n    }\r\n\r\n    public static createStream(subscribeFunc) {\r\n        return AnonymousStream.create(subscribeFunc);\r\n    }\r\n\r\n    public static fromArray(array: Array<any>, scheduler = Scheduler.create()) {\r\n        return FromArrayStream.create(array, scheduler);\r\n    }\r\n}\r\n\r\nexport var createStream = Operator.createStream;\r\n\r\nexport var empty = Operator.empty;\r\n\r\nexport var fromArray = Operator.fromArray;\r\n\r\nexport var fromPromise = (promise: any, scheduler = Scheduler.create()) => {\r\n    return FromPromiseStream.create(promise, scheduler);\r\n};\r\n\r\nexport var fromEventPattern = (addHandler: Function, removeHandler: Function) => {\r\n    return FromEventPatternStream.create(addHandler, removeHandler);\r\n};\r\n\r\nexport var interval = (interval, scheduler = Scheduler.create()) => {\r\n    return IntervalStream.create(interval, scheduler);\r\n};\r\n\r\nexport var intervalRequest = (scheduler = Scheduler.create()) => {\r\n    return IntervalRequestStream.create(scheduler);\r\n};\r\n\r\nexport var timeout = (time, scheduler = Scheduler.create()) => {\r\n    return TimeoutStream.create(time, scheduler);\r\n};\r\nexport var callFunc = (func: Function, context = root) => {\r\n    return createStream((observer: IObserver) => {\r\n        try {\r\n            observer.next(func.call(context, null));\r\n        }\r\n        catch (e) {\r\n            observer.error(e);\r\n        }\r\n\r\n        observer.completed();\r\n    });\r\n};\r\n\r\nexport var judge = (condition: Function, thenSource: Function, elseSource: Function) => {\r\n    return condition() ? thenSource() : elseSource();\r\n};\r\n\r\nexport var defer = (buildStreamFunc: Function) => {\r\n    return DeferStream.create(buildStreamFunc);\r\n};\r\n\r\nexport var just = (returnValue: any) => {\r\n    return createStream((observer: IObserver) => {\r\n        observer.next(returnValue);\r\n        observer.completed();\r\n    });\r\n}\r\n","import { createStream } from \"../../global/Operator\";\r\nimport { IObserver } from \"../../observer/IObserver\";\r\nimport { AnonymousStream } from \"../../stream/AnonymousStream\";\r\n\r\nexport var fromNodeCallback = (func: Function, context?: any) => {\r\n    return (...funcArgs) => {\r\n        return createStream((observer: IObserver) => {\r\n            var hander = (err, ...args) => {\r\n                if (err) {\r\n                    observer.error(err);\r\n                    return;\r\n                }\r\n\r\n                if (args.length <= 1) {\r\n                    observer.next.apply(observer, args);\r\n                }\r\n                else {\r\n                    observer.next(args);\r\n                }\r\n\r\n                observer.completed();\r\n            };\r\n\r\n            funcArgs.push(hander);\r\n            func.apply(context, funcArgs);\r\n        });\r\n    }\r\n};\r\n\r\n/*!\r\n //todo has bug! need fix\r\n refer to rx-node:(need add .publish(), .refCount() methods!)\r\n https://github.com/Reactive-Extensions/rx-node/blob/master/index.js\r\n */\r\nexport var fromStream = (stream: any, finishEventName: string = \"end\") => {\r\n    if (stream.pause) {\r\n        stream.pause();\r\n    }\r\n\r\n    return createStream((observer) => {\r\n        var dataHandler = (data) => {\r\n            observer.next(data);\r\n        },\r\n            errorHandler = (err) => {\r\n                observer.error(err);\r\n            },\r\n            endHandler = () => {\r\n                observer.completed();\r\n            };\r\n\r\n        stream.addListener(\"data\", dataHandler);\r\n        stream.addListener(\"error\", errorHandler);\r\n        stream.addListener(finishEventName, endHandler);\r\n\r\n        if (stream.resume) {\r\n            stream.resume();\r\n        }\r\n\r\n        return () => {\r\n            stream.removeListener(\"data\", dataHandler);\r\n            stream.removeListener(\"error\", errorHandler);\r\n            stream.removeListener(finishEventName, endHandler);\r\n        };\r\n    });\r\n};\r\n\r\nexport var fromReadableStream = (stream: any) => {\r\n    return fromStream(stream, \"end\");\r\n};\r\n\r\nexport var fromWritableStream = (stream: any) => {\r\n    return fromStream(stream, \"finish\");\r\n};\r\n\r\nexport var fromTransformStream = (stream: any) => {\r\n    return fromStream(stream, \"finish\");\r\n};","import { IDisposable } from \"./IDisposable\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\nexport class InnerSubscriptionGroup implements IDisposable {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _container: Collection<IDisposable> = Collection.create<IDisposable>();\r\n\r\n    public addChild(child: IDisposable) {\r\n        this._container.addChild(child);\r\n    }\r\n\r\n    public dispose() {\r\n        this._container.forEach((child: IDisposable) => {\r\n            child.dispose();\r\n        });\r\n    }\r\n}","export enum FilterState {\r\n    TRIGGER,\r\n    ENTER,\r\n    LEAVE\r\n}","import { Observer } from \"../core/Observer\";\r\n\r\nexport class AnonymousObserver extends Observer {\r\n    public static create(onNext: Function, onError: Function, onCompleted: Function) {\r\n        return new this(onNext, onError, onCompleted);\r\n    }\r\n\r\n    protected onNext(value: any) {\r\n        this.onUserNext(value);\r\n    }\r\n\r\n    protected onError(error: any) {\r\n        this.onUserError(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this.onUserCompleted();\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class ConcatObserver extends Observer {\r\n    public static create(currentObserver: IObserver, startNextStream: Function) {\r\n        return new this(currentObserver, startNextStream);\r\n    }\r\n\r\n    //private currentObserver:IObserver = null;\r\n    protected currentObserver: any = null;\r\n    private _startNextStream: Function = null;\r\n\r\n    constructor(currentObserver: IObserver, startNextStream: Function) {\r\n        super(null, null, null);\r\n\r\n        this.currentObserver = currentObserver;\r\n        this._startNextStream = startNextStream;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        /*!\r\n        if \"this.currentObserver.next\" error, it will pase to this.currentObserver->onError.\r\n        so it shouldn't invoke this.currentObserver.error here again!\r\n         */\r\n        //try{\r\n        this.currentObserver.next(value);\r\n        //}\r\n        //catch(e){\r\n        //    this.currentObserver.error(e);\r\n        //}\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        //this.currentObserver.completed();\r\n        this._startNextStream();\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class DoObserver extends Observer {\r\n    public static create(currentObserver: IObserver, prevObserver: IObserver) {\r\n        return new this(currentObserver, prevObserver);\r\n    }\r\n\r\n    private _currentObserver: IObserver = null;\r\n    private _prevObserver: IObserver = null;\r\n\r\n    constructor(currentObserver: IObserver, prevObserver: IObserver) {\r\n        super(null, null, null);\r\n\r\n        this._currentObserver = currentObserver;\r\n        this._prevObserver = prevObserver;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        try {\r\n            this._prevObserver.next(value);\r\n        }\r\n        catch (e) {\r\n            this._prevObserver.error(e);\r\n            this._currentObserver.error(e);\r\n        }\r\n        finally {\r\n            this._currentObserver.next(value);\r\n        }\r\n    }\r\n\r\n    protected onError(error) {\r\n        try {\r\n            this._prevObserver.error(error);\r\n        }\r\n        catch (e) {\r\n            //this._currentObserver.error(error);\r\n        }\r\n        finally {\r\n            this._currentObserver.error(error);\r\n        }\r\n    }\r\n\r\n    protected onCompleted() {\r\n        try {\r\n            this._prevObserver.completed();\r\n        }\r\n        catch (e) {\r\n            this._prevObserver.error(e);\r\n            this._currentObserver.error(e);\r\n        }\r\n        finally {\r\n            this._currentObserver.completed();\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { Stream } from \"../core/Stream\";\r\n\r\nexport class FilterObserver extends Observer {\r\n    public static create(prevObserver: IObserver, predicate: (value: any, index?: number, source?: Stream) => boolean, source: Stream) {\r\n        return new this(prevObserver, predicate, source);\r\n    }\r\n\r\n    constructor(prevObserver: IObserver, predicate: (value: any) => boolean, source: Stream) {\r\n        super(null, null, null);\r\n\r\n        this.prevObserver = prevObserver;\r\n        this.predicate = predicate;\r\n        this.source = source;\r\n    }\r\n\r\n    protected prevObserver: IObserver = null;\r\n    protected source: Stream = null;\r\n    protected i: number = 0;\r\n    protected predicate: (value: any, index?: number, source?: Stream) => boolean = null;\r\n\r\n    protected onNext(value) {\r\n        try {\r\n            if (this.predicate(value, this.i++, this.source)) {\r\n                this.prevObserver.next(value);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.prevObserver.error(e);\r\n        }\r\n\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.prevObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this.prevObserver.completed();\r\n    }\r\n}","import { FilterObserver } from \"./FilterObserver\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { FilterState } from \"../enum/FilterState\";\r\n\r\nexport class FilterWithStateObserver extends FilterObserver {\r\n    public static create(prevObserver: IObserver, predicate: (value: any, index?: number, source?: Stream) => boolean, source: Stream) {\r\n        return new this(prevObserver, predicate, source);\r\n    }\r\n\r\n    private _isTrigger: boolean = false;\r\n\r\n    protected onNext(value) {\r\n        var data: { value: any, state: FilterState } = null;\r\n\r\n        try {\r\n            if (this.predicate(value, this.i++, this.source)) {\r\n                if (!this._isTrigger) {\r\n                    data = {\r\n                        value: value,\r\n                        state: FilterState.ENTER\r\n                    };\r\n                }\r\n                else {\r\n                    data = {\r\n                        value: value,\r\n                        state: FilterState.TRIGGER\r\n                    };\r\n                }\r\n\r\n                this.prevObserver.next(data);\r\n\r\n                this._isTrigger = true;\r\n            }\r\n            else {\r\n                if (this._isTrigger) {\r\n                    data = {\r\n                        value: value,\r\n                        state: FilterState.LEAVE\r\n                    };\r\n\r\n                    this.prevObserver.next(data);\r\n                }\r\n\r\n                this._isTrigger = false;\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.prevObserver.error(e);\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class IgnoreElementsObserver extends Observer {\r\n    public static create(currentObserver: IObserver) {\r\n        return new this(currentObserver);\r\n    }\r\n\r\n    private _currentObserver: IObserver = null;\r\n\r\n    constructor(currentObserver: IObserver) {\r\n        super(null, null, null);\r\n\r\n        this._currentObserver = currentObserver;\r\n    }\r\n\r\n    protected onNext(value) {\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this._currentObserver.completed();\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class MapObserver extends Observer {\r\n    public static create(currentObserver: IObserver, selector: Function) {\r\n        return new this(currentObserver, selector);\r\n    }\r\n\r\n    private _currentObserver: IObserver = null;\r\n    private _selector: Function = null;\r\n\r\n    constructor(currentObserver: IObserver, selector: Function) {\r\n        super(null, null, null);\r\n\r\n        this._currentObserver = currentObserver;\r\n        this._selector = selector;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        var result = null;\r\n\r\n        try {\r\n            result = this._selector(value);\r\n        }\r\n        catch (e) {\r\n            this._currentObserver.error(e);\r\n        }\r\n        finally {\r\n            this._currentObserver.next(result);\r\n        }\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this._currentObserver.completed();\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\n\r\nexport class MergeAllObserver extends Observer {\r\n    public static create(currentObserver: IObserver, streamGroup: Collection<Stream>, groupDisposable: GroupDisposable) {\r\n        return new this(currentObserver, streamGroup, groupDisposable);\r\n    }\r\n\r\n    constructor(currentObserver: IObserver, streamGroup: Collection<Stream>, groupDisposable: GroupDisposable) {\r\n        super(null, null, null);\r\n\r\n        this.currentObserver = currentObserver;\r\n        this._streamGroup = streamGroup;\r\n        this._groupDisposable = groupDisposable;\r\n    }\r\n\r\n    public done: boolean = false;\r\n    public currentObserver: IObserver = null;\r\n\r\n    private _streamGroup: Collection<Stream> = null;\r\n    private _groupDisposable: GroupDisposable = null;\r\n\r\n    @requireCheck(function(innerSource: any) {\r\n        assert(innerSource instanceof Stream || JudgeUtils.isPromise(innerSource), Log.info.FUNC_MUST_BE(\"innerSource\", \"Stream or Promise\"));\r\n\r\n    })\r\n    protected onNext(innerSource: any) {\r\n        if (JudgeUtils.isPromise(innerSource)) {\r\n            innerSource = fromPromise(innerSource);\r\n        }\r\n\r\n        this._streamGroup.addChild(innerSource);\r\n\r\n        this._groupDisposable.add(innerSource.buildStream(InnerObserver.create(this, this._streamGroup, innerSource)));\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this.done = true;\r\n\r\n        if (this._streamGroup.getCount() === 0) {\r\n            this.currentObserver.completed();\r\n        }\r\n    }\r\n}\r\n\r\nclass InnerObserver extends Observer {\r\n    public static create(parent: MergeAllObserver, streamGroup: Collection<Stream>, currentStream: Stream) {\r\n        var obj = new this(parent, streamGroup, currentStream);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(parent: MergeAllObserver, streamGroup: Collection<Stream>, currentStream: Stream) {\r\n        super(null, null, null);\r\n\r\n        this._parent = parent;\r\n        this._streamGroup = streamGroup;\r\n        this._currentStream = currentStream;\r\n    }\r\n\r\n    private _parent: MergeAllObserver = null;\r\n    private _streamGroup: Collection<Stream> = null;\r\n    private _currentStream: Stream = null;\r\n\r\n    protected onNext(value) {\r\n        this._parent.currentObserver.next(value);\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._parent.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        var currentStream = this._currentStream,\r\n            parent = this._parent;\r\n\r\n        this._streamGroup.removeChild((stream: Stream) => {\r\n            return JudgeUtils.isEqual(stream, currentStream);\r\n        });\r\n\r\n        //parent.currentObserver.completed();\r\n        //this.dispose();\r\n\r\n        /*!\r\n        if this innerSource is async stream(as promise stream),\r\n        it will first exec all parent.next and one parent.completed,\r\n        then exec all this.next and all this.completed\r\n        so in this case, it should invoke parent.currentObserver.completed after the last invokcation of this.completed(have invoked all the innerSource)\r\n        */\r\n        if (this._isAsync() && this._streamGroup.getCount() === 0) {\r\n            parent.currentObserver.completed();\r\n        }\r\n    }\r\n\r\n    private _isAsync() {\r\n        return this._parent.done;\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\n\r\nexport class MergeObserver extends Observer {\r\n    public static create(currentObserver: IObserver, maxConcurrent: number, streamGroup: Collection<Stream>, groupDisposable: GroupDisposable) {\r\n        return new this(currentObserver, maxConcurrent, streamGroup, groupDisposable);\r\n    }\r\n\r\n    constructor(currentObserver: IObserver, maxConcurrent: number, streamGroup: Collection<Stream>, groupDisposable: GroupDisposable) {\r\n        super(null, null, null);\r\n\r\n        this.currentObserver = currentObserver;\r\n        this._maxConcurrent = maxConcurrent;\r\n        this._streamGroup = streamGroup;\r\n        this._groupDisposable = groupDisposable;\r\n    }\r\n\r\n    public done: boolean = false;\r\n    public currentObserver: IObserver = null;\r\n    public activeCount: number = 0;\r\n    public q: Array<Stream> = [];\r\n\r\n    private _maxConcurrent: number = null;\r\n    private _groupDisposable: GroupDisposable = null;\r\n    private _streamGroup: Collection<Stream> = null;\r\n\r\n    public handleSubscribe(innerSource: any) {\r\n        if (JudgeUtils.isPromise(innerSource)) {\r\n            innerSource = fromPromise(innerSource);\r\n        }\r\n\r\n        this._streamGroup.addChild(innerSource);\r\n\r\n        this._groupDisposable.add(innerSource.buildStream(InnerObserver.create(this, this._streamGroup, innerSource)));\r\n    }\r\n\r\n    @requireCheck(function(innerSource: any) {\r\n        assert(innerSource instanceof Stream || JudgeUtils.isPromise(innerSource), Log.info.FUNC_MUST_BE(\"innerSource\", \"Stream or Promise\"));\r\n\r\n    })\r\n    protected onNext(innerSource: any) {\r\n        if (this._isReachMaxConcurrent()) {\r\n            this.activeCount++;\r\n            this.handleSubscribe(innerSource);\r\n\r\n            return;\r\n        }\r\n\r\n        this.q.push(innerSource);\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this.done = true;\r\n\r\n        if (this._streamGroup.getCount() === 0) {\r\n            this.currentObserver.completed();\r\n        }\r\n    }\r\n\r\n    private _isReachMaxConcurrent() {\r\n        return this.activeCount < this._maxConcurrent;\r\n    }\r\n}\r\n\r\nclass InnerObserver extends Observer {\r\n    public static create(parent: MergeObserver, streamGroup: Collection<Stream>, currentStream: Stream) {\r\n        var obj = new this(parent, streamGroup, currentStream);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(parent: MergeObserver, streamGroup: Collection<Stream>, currentStream: Stream) {\r\n        super(null, null, null);\r\n\r\n        this._parent = parent;\r\n        this._streamGroup = streamGroup;\r\n        this._currentStream = currentStream;\r\n    }\r\n\r\n    private _parent: MergeObserver = null;\r\n    private _streamGroup: Collection<Stream> = null;\r\n    private _currentStream: Stream = null;\r\n\r\n    protected onNext(value) {\r\n        this._parent.currentObserver.next(value);\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._parent.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        var parent = this._parent;\r\n\r\n        this._streamGroup.removeChild(this._currentStream);\r\n\r\n        if (parent.q.length > 0) {\r\n            parent.activeCount = 0;\r\n            parent.handleSubscribe(parent.q.shift());\r\n        }\r\n        else {\r\n            if (this._isAsync() && this._streamGroup.getCount() === 0) {\r\n                parent.currentObserver.completed();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _isAsync() {\r\n        return this._parent.done;\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { SkipUntilStream } from \"../stream/SkipUntilStream\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\n\r\nexport class SkipUntilOtherObserver extends Observer {\r\n    public static create(prevObserver: IObserver, skipUntilStream: SkipUntilStream) {\r\n        return new this(prevObserver, skipUntilStream);\r\n    }\r\n\r\n    public otherDisposable: IDisposable = null;\r\n\r\n    private _prevObserver: IObserver = null;\r\n    private _skipUntilStream: SkipUntilStream = null;\r\n\r\n    constructor(prevObserver: IObserver, skipUntilStream: SkipUntilStream) {\r\n        super(null, null, null);\r\n\r\n        this._prevObserver = prevObserver;\r\n        this._skipUntilStream = skipUntilStream;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        this._skipUntilStream.isOpen = true;\r\n\r\n        // if(this.otherDisposable.dispose())\r\n        this.otherDisposable.dispose();\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._prevObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this.otherDisposable.dispose();\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { SkipUntilStream } from \"../stream/SkipUntilStream\";\r\n\r\nexport class SkipUntilSourceObserver extends Observer {\r\n    public static create(prevObserver: IObserver, skipUntilStream: SkipUntilStream) {\r\n        return new this(prevObserver, skipUntilStream);\r\n    }\r\n\r\n    private _prevObserver: IObserver = null;\r\n    private _skipUntilStream: SkipUntilStream = null;\r\n\r\n    constructor(prevObserver: IObserver, skipUntilStream: SkipUntilStream) {\r\n        super(null, null, null);\r\n\r\n        this._prevObserver = prevObserver;\r\n        this._skipUntilStream = skipUntilStream;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        if (this._skipUntilStream.isOpen) {\r\n            this._prevObserver.next(value);\r\n        }\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._prevObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        if (this._skipUntilStream.isOpen) {\r\n            this._prevObserver.completed();\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class TakeUntilObserver extends Observer {\r\n    public static create(prevObserver: IObserver) {\r\n        return new this(prevObserver);\r\n    }\r\n\r\n    private _prevObserver: IObserver = null;\r\n\r\n    constructor(prevObserver: IObserver) {\r\n        super(null, null, null);\r\n\r\n        this._prevObserver = prevObserver;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        this._prevObserver.completed();\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._prevObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { ConcatObserver } from \"../observer/ConcatObserver\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"ConcatStream\")\r\nexport class ConcatStream extends BaseStream {\r\n    public static create(sources: Array<Stream>) {\r\n        var obj = new this(sources);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _sources: Collection<Stream> = Collection.create<Stream>();\r\n\r\n    constructor(sources: Array<Stream>) {\r\n        super(null);\r\n\r\n        var self = this;\r\n\r\n        //todo don't set scheduler here?\r\n        this.scheduler = sources[0].scheduler;\r\n\r\n        sources.forEach((source) => {\r\n            if (JudgeUtils.isPromise(source)) {\r\n                self._sources.addChild(fromPromise(source));\r\n            }\r\n            else {\r\n                self._sources.addChild(source);\r\n            }\r\n        });\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            count = this._sources.getCount(),\r\n            d = GroupDisposable.create();\r\n\r\n        function loopRecursive(i) {\r\n            if (i === count) {\r\n                observer.completed();\r\n\r\n                return;\r\n            }\r\n\r\n            d.add(self._sources.getChild(i).buildStream(ConcatObserver.create(\r\n                observer, () => {\r\n                    loopRecursive(i + 1);\r\n                })\r\n            ));\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return GroupDisposable.create(d);\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { AnonymousObserver } from \"../observer/AnonymousObserver\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { DoObserver } from \"../observer/DoObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"DoStream\")\r\nexport class DoStream extends BaseStream {\r\n    public static create(source: Stream, onNext?: Function, onError?: Function, onCompleted?: Function) {\r\n        var obj = new this(source, onNext, onError, onCompleted);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _observer: Observer = null;\r\n\r\n    constructor(source: Stream, onNext: Function, onError: Function, onCompleted: Function) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this._observer = AnonymousObserver.create(onNext, onError, onCompleted);\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.buildStream(DoObserver.create(observer, this._observer));\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { FunctionUtils } from \"wonder-commonlib/dist/es2015/utils/FunctionUtils\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { FilterObserver } from \"../observer/FilterObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"FilterStream\")\r\nexport class FilterStream extends BaseStream {\r\n    public static create(source: Stream, predicate: (value: any, index?: number, source?: Stream) => boolean, thisArg: any) {\r\n        var obj = new this(source, predicate, thisArg);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(source: Stream, predicate: (value: any, index?: number, source?: Stream) => boolean, thisArg: any) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this.predicate = FunctionUtils.bind(thisArg, predicate);\r\n    }\r\n\r\n    public predicate: (value: any, index?: number, source?: Stream) => boolean = null;\r\n\r\n    private _source: Stream = null;\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.subscribe(this.createObserver(observer));\r\n    }\r\n\r\n    public internalFilter(predicate: (value: any, index?: number, source?: Stream) => boolean, thisArg: any) {\r\n        return this.createStreamForInternalFilter(this._source, this._innerPredicate(predicate, this), thisArg);\r\n    }\r\n\r\n    protected createObserver(observer: IObserver): Observer {\r\n        return FilterObserver.create(observer, this.predicate, this);\r\n    }\r\n\r\n    protected createStreamForInternalFilter(source: Stream, innerPredicate: any, thisArg: any): Stream {\r\n        return FilterStream.create(source, innerPredicate, thisArg);\r\n    }\r\n\r\n    private _innerPredicate(predicate: (value: any, index?: number, source?: Stream) => boolean, self: any) {\r\n        return (value, i, o) => {\r\n            return self.predicate(value, i, o) && predicate.call(this, value, i, o);\r\n        }\r\n    }\r\n}\r\n","import { FilterStream } from \"./FilterStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { FilterWithStateObserver } from \"../observer/FilterWithStateObserver\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"FilterWithStateStream\")\r\nexport class FilterWithStateStream extends FilterStream {\r\n    public static create(source: Stream, predicate: (value: any, index?: number, source?: Stream) => boolean, thisArg: any) {\r\n        var obj = new this(source, predicate, thisArg);\r\n\r\n        return obj;\r\n    }\r\n\r\n    protected createObserver(observer: IObserver) {\r\n        return FilterWithStateObserver.create(observer, this.predicate, this);\r\n    }\r\n\r\n    protected createStreamForInternalFilter(source: Stream, innerPredicate: any, thisArg: any): Stream {\r\n        return FilterWithStateStream.create(source, innerPredicate, thisArg);\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IgnoreElementsObserver } from \"../observer/IgnoreElementsObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"IgnoreElementsStream\")\r\nexport class IgnoreElementsStream extends BaseStream {\r\n    public static create(source: Stream) {\r\n        var obj = new this(source);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n\r\n    constructor(source: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.buildStream(IgnoreElementsObserver.create(observer));\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { MapObserver } from \"../observer/MapObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"MapStream\")\r\nexport class MapStream extends BaseStream {\r\n    public static create(source: Stream, selector: Function) {\r\n        var obj = new this(source, selector);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _selector: Function = null;\r\n\r\n    constructor(source: Stream, selector: Function) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n        this._selector = selector;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.buildStream(MapObserver.create(observer, this._selector));\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { MergeAllObserver } from \"../observer/MergeAllObserver\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"MergeAllStream\")\r\nexport class MergeAllStream extends BaseStream {\r\n    public static create(source: Stream) {\r\n        var obj = new this(source);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(source: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        //this._observer = AnonymousObserver.create(onNext, onError,onCompleted);\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _observer: Observer = null;\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var streamGroup = Collection.create<Stream>(),\r\n            groupDisposable = GroupDisposable.create();\r\n\r\n        this._source.buildStream(MergeAllObserver.create(observer, streamGroup, groupDisposable));\r\n\r\n        return groupDisposable;\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { MergeObserver } from \"../observer/MergeObserver\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"MergeStream\")\r\nexport class MergeStream extends BaseStream {\r\n    public static create(source: Stream, maxConcurrent: number) {\r\n        var obj = new this(source, maxConcurrent);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(source: Stream, maxConcurrent: number) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this._maxConcurrent = maxConcurrent;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _maxConcurrent: number = null;\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var streamGroup = Collection.create<Stream>(),\r\n            groupDisposable = GroupDisposable.create();\r\n\r\n        this._source.buildStream(MergeObserver.create(observer, this._maxConcurrent, streamGroup, groupDisposable));\r\n\r\n        return groupDisposable;\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { ConcatObserver } from \"../observer/ConcatObserver\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"RepeatStream\")\r\nexport class RepeatStream extends BaseStream {\r\n    public static create(source: Stream, count: number) {\r\n        var obj = new this(source, count);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _count: number = null;\r\n\r\n    constructor(source: Stream, count: number) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this._count = count;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n\r\n        //this.subjectGroup = this._source.subjectGroup;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            d = GroupDisposable.create();\r\n\r\n        function loopRecursive(count) {\r\n            if (count === 0) {\r\n                observer.completed();\r\n\r\n                return;\r\n            }\r\n\r\n            d.add(\r\n                self._source.buildStream(ConcatObserver.create(observer, () => {\r\n                    loopRecursive(count - 1);\r\n                }))\r\n            );\r\n        }\r\n\r\n\r\n        this.scheduler.publishRecursive(observer, this._count, loopRecursive);\r\n\r\n        return GroupDisposable.create(d);\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { SkipUntilOtherObserver } from \"../observer/SkipUntilOtherObserver\";\r\nimport { SkipUntilSourceObserver } from \"../observer/SkipUntilSourceObserver\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"SkipUntilStream\")\r\nexport class SkipUntilStream extends BaseStream {\r\n    public static create(source: Stream, otherSteam: Stream) {\r\n        var obj = new this(source, otherSteam);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public isOpen: boolean = false;\r\n\r\n    private _source: Stream = null;\r\n    private _otherStream: Stream = null;\r\n\r\n    constructor(source: Stream, otherStream: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this._otherStream = JudgeUtils.isPromise(otherStream) ? fromPromise(otherStream) : otherStream;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var group = GroupDisposable.create(),\r\n            otherDisposable: IDisposable = null,\r\n            skipUntilOtherObserver: SkipUntilOtherObserver = null;\r\n        // autoDetachObserver = AutoDetachObserver.create(observer),\r\n        // sourceDisposable = null;\r\n\r\n        // sourceDisposable = this._source.buildStream(observer);\r\n\r\n        group.add(this._source.buildStream(SkipUntilSourceObserver.create(observer, this)));\r\n\r\n        // autoDetachObserver.setDisposable(sourceDisposable);\r\n\r\n        skipUntilOtherObserver = SkipUntilOtherObserver.create(observer, this);\r\n\r\n        otherDisposable = this._otherStream.buildStream(skipUntilOtherObserver);\r\n\r\n        skipUntilOtherObserver.otherDisposable = otherDisposable;\r\n\r\n        group.add(otherDisposable);\r\n\r\n        return group;\r\n    }\r\n}\r\n","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { TakeUntilObserver } from \"../observer/TakeUntilObserver\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"TakeUntilStream\")\r\nexport class TakeUntilStream extends BaseStream {\r\n    public static create(source: Stream, otherSteam: Stream) {\r\n        var obj = new this(source, otherSteam);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    private _otherStream: Stream = null;\r\n\r\n    constructor(source: Stream, otherStream: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n        this._otherStream = JudgeUtils.isPromise(otherStream) ? fromPromise(otherStream) : otherStream;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var group = GroupDisposable.create(),\r\n            autoDetachObserver = AutoDetachObserver.create(observer),\r\n            sourceDisposable = null;\r\n\r\n        sourceDisposable = this._source.buildStream(observer);\r\n\r\n        group.add(sourceDisposable);\r\n\r\n        autoDetachObserver.setDisposable(sourceDisposable);\r\n\r\n        group.add(this._otherStream.buildStream(TakeUntilObserver.create(autoDetachObserver)));\r\n\r\n        return group;\r\n    }\r\n}\r\n","import { Entity } from \"../core/Entity\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SubjectObserver } from \"../observer/SubjectObserver\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { InnerSubscription } from \"../Disposable/InnerSubscription\";\r\nimport { AnonymousStream } from \"../stream/AnonymousStream\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class GeneratorSubject extends Entity implements IObserver {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _isStart: boolean = false;\r\n    get isStart() {\r\n        return this._isStart;\r\n    }\r\n    set isStart(isStart: boolean) {\r\n        this._isStart = isStart;\r\n    }\r\n\r\n    constructor() {\r\n        super(\"GeneratorSubject\");\r\n    }\r\n\r\n    public observer: any = new SubjectObserver();\r\n\r\n    /*!\r\n    outer hook method\r\n     */\r\n    public onBeforeNext(value: any) {\r\n    }\r\n\r\n    public onAfterNext(value: any) {\r\n    }\r\n\r\n    public onIsCompleted(value: any) {\r\n        return false;\r\n    }\r\n\r\n    public onBeforeError(error: any) {\r\n    }\r\n\r\n    public onAfterError(error: any) {\r\n    }\r\n\r\n    public onBeforeCompleted() {\r\n    }\r\n\r\n    public onAfterCompleted() {\r\n    }\r\n\r\n\r\n    //todo\r\n    public subscribe(arg1?: Function | Observer, onError?: Function, onCompleted?: Function): IDisposable {\r\n        var observer = arg1 instanceof Observer\r\n            ? <AutoDetachObserver>arg1\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        this.observer.addChild(observer);\r\n\r\n        return InnerSubscription.create(this, observer);\r\n    }\r\n\r\n    public next(value: any) {\r\n        if (!this._isStart || this.observer.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            this.onBeforeNext(value);\r\n\r\n            this.observer.next(value);\r\n\r\n            this.onAfterNext(value);\r\n\r\n            if (this.onIsCompleted(value)) {\r\n                this.completed();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.error(e);\r\n        }\r\n    }\r\n\r\n    public error(error: any) {\r\n        if (!this._isStart || this.observer.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n        this.onBeforeError(error);\r\n\r\n        this.observer.error(error);\r\n\r\n        this.onAfterError(error);\r\n    }\r\n\r\n    public completed() {\r\n        if (!this._isStart || this.observer.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n        this.onBeforeCompleted();\r\n\r\n        this.observer.completed();\r\n\r\n        this.onAfterCompleted();\r\n    }\r\n\r\n    public toStream() {\r\n        var self = this,\r\n            stream = null;\r\n\r\n        stream = AnonymousStream.create((observer: Observer) => {\r\n            self.subscribe(observer);\r\n        });\r\n\r\n        return stream;\r\n    }\r\n\r\n    public start() {\r\n        var self = this;\r\n\r\n        this._isStart = true;\r\n\r\n        this.observer.setDisposable(SingleDisposable.create(() => {\r\n            self.dispose();\r\n        }));\r\n    }\r\n\r\n    public stop() {\r\n        this._isStart = false;\r\n    }\r\n\r\n    public remove(observer: Observer) {\r\n        this.observer.removeChild(observer);\r\n    }\r\n\r\n    public dispose() {\r\n        this.observer.dispose();\r\n    }\r\n}","export enum ActionType {\r\n    NEXT,\r\n    ERROR,\r\n    COMPLETED\r\n}","import { ActionType } from \"./ActionType\";\r\n\r\nvar defaultIsEqual = (a, b) => {\r\n    return a === b;\r\n};\r\n\r\nexport class Record {\r\n    public static create(time: number, value: any, actionType?: ActionType, comparer?: Function) {\r\n        var obj = new this(time, value, actionType, comparer);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _time: number = null;\r\n    get time() {\r\n        return this._time;\r\n    }\r\n    set time(time: number) {\r\n        this._time = time;\r\n    }\r\n\r\n    private _value: number = null;\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value: number) {\r\n        this._value = value;\r\n    }\r\n\r\n    private _actionType: ActionType = null;\r\n    get actionType() {\r\n        return this._actionType;\r\n    }\r\n    set actionType(actionType: ActionType) {\r\n        this._actionType = actionType;\r\n    }\r\n\r\n    private _comparer: Function = null;\r\n\r\n    constructor(time, value, actionType: ActionType, comparer: Function) {\r\n        this._time = time;\r\n        this._value = value;\r\n        this._actionType = actionType;\r\n        this._comparer = comparer || defaultIsEqual;\r\n    }\r\n\r\n    equals(other) {\r\n        return this._time === other.time && this._comparer(this._value, other.value);\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { TestScheduler } from \"./TestScheduler\";\r\nimport { Record } from \"./Record\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { ActionType } from \"./ActionType\";\r\n\r\nexport class MockObserver extends Observer {\r\n    public static create(scheduler: TestScheduler) {\r\n        var obj = new this(scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _messages: [Record] = <[Record]>[];\r\n    get messages() {\r\n        return this._messages;\r\n    }\r\n    set messages(messages: [Record]) {\r\n        this._messages = messages;\r\n    }\r\n\r\n    private _scheduler: TestScheduler = null;\r\n\r\n    constructor(scheduler: TestScheduler) {\r\n        super(null, null, null);\r\n\r\n        this._scheduler = scheduler;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        var record = null;\r\n\r\n        if (JudgeUtils.isDirectObject(value)) {\r\n            record = Record.create(this._scheduler.clock, value, ActionType.NEXT, (a, b) => {\r\n                var result = true;\r\n\r\n                for (let i in a) {\r\n                    if (a.hasOwnProperty(i)) {\r\n                        if (a[i] !== b[i]) {\r\n                            result = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            });\r\n        }\r\n        else {\r\n            record = Record.create(this._scheduler.clock, value, ActionType.NEXT);\r\n        }\r\n\r\n        this._messages.push(record);\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._messages.push(Record.create(this._scheduler.clock, error, ActionType.ERROR));\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this._messages.push(Record.create(this._scheduler.clock, null, ActionType.COMPLETED));\r\n    }\r\n\r\n    public dispose() {\r\n        super.dispose();\r\n\r\n        this._scheduler.remove(this);\r\n    }\r\n\r\n    public clone() {\r\n        var result = MockObserver.create(this._scheduler);\r\n\r\n        result.messages = this._messages;\r\n\r\n        return result;\r\n    }\r\n}","import { TestScheduler } from \"./TestScheduler\";\r\nimport { Record } from \"./Record\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\n\r\nexport class MockPromise {\r\n    public static create(scheduler: TestScheduler, messages: [Record]) {\r\n        var obj = new this(scheduler, messages);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _messages: [Record] = <[Record]>[];\r\n    //get messages(){\r\n    //    return this._messages;\r\n    //}\r\n    //set messages(messages:[Record]){\r\n    //    this._messages = messages;\r\n    //}\r\n\r\n    private _scheduler: TestScheduler = null;\r\n\r\n    constructor(scheduler: TestScheduler, messages: [Record]) {\r\n        this._scheduler = scheduler;\r\n        this._messages = messages;\r\n    }\r\n\r\n    public then(successCb: Function, errorCb: Function, observer: IObserver) {\r\n        //var scheduler = <TestScheduler>(this.scheduler);\r\n\r\n        this._scheduler.setStreamMap(observer, this._messages);\r\n    }\r\n}","import { Collection } from \"./Collection\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\nimport { Log } from \"./Log\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\n\r\nexport class Hash<T> {\r\n    public static create<T>(children = {}) {\r\n        var obj = new this(<{ [s: string]: T }>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: { [s: string]: T } = {}) {\r\n        this._children = children;\r\n    }\r\n\r\n    private _children: {\r\n        [s: string]: T\r\n    } = null;\r\n\r\n    public getChildren() {\r\n        return this._children;\r\n    }\r\n\r\n    public getCount() {\r\n        var result = 0,\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result++;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getKeys() {\r\n        var result = Collection.create<string>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(key);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getValues() {\r\n        var result = Collection.create<T>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(children[key]);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getChild(key: string) {\r\n        return this._children[key];\r\n    }\r\n\r\n    public setValue(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChild(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: {} | Hash<T>) {\r\n        var i = null,\r\n            children = null;\r\n\r\n        if (arg instanceof Hash) {\r\n            children = arg.getChildren();\r\n        }\r\n        else {\r\n            children = arg;\r\n        }\r\n\r\n        for (i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                this.addChild(i, children[i]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public appendChild(key: string, value: any) {\r\n        if (this._children[key] instanceof Collection) {\r\n            let c = <any>(this._children[key]);\r\n\r\n            c.addChild(<T>value);\r\n        }\r\n        else {\r\n            this._children[key] = <any>(Collection.create<any>().addChild(value));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public setChildren(children: { [s: string]: T }) {\r\n        this._children = children;\r\n    }\r\n\r\n    public removeChild(arg: any): Collection<T> {\r\n        var result = [];\r\n\r\n        if (JudgeUtils.isString(arg)) {\r\n            let key = <string>arg;\r\n\r\n            result.push(this._children[key]);\r\n\r\n            this._children[key] = void 0;\r\n            delete this._children[key];\r\n        }\r\n        else if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg,\r\n                self = this;\r\n\r\n            this.forEach((val: any, key: string) => {\r\n                if (func(val, key)) {\r\n                    result.push(self._children[key]);\r\n\r\n                    self._children[key] = void 0;\r\n                    delete self._children[key];\r\n                }\r\n            });\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this._children = {};\r\n    }\r\n\r\n    public hasChild(key: string): boolean {\r\n        return this._children[key] !== void 0;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        var result = false;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (func(val, key)) {\r\n                result = true;\r\n                return $BREAK;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        var children = this._children;\r\n\r\n        for (let i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                if (func.call(context, children[i], i) === $BREAK) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public filter(func: Function): Hash<T> {\r\n        var result = {},\r\n            children = this._children,\r\n            value = null;\r\n\r\n        for (let key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                value = children[key];\r\n\r\n                if (func.call(children, value, key)) {\r\n                    result[key] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n        return Hash.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: Function) {\r\n        var result = [],\r\n            self = this,\r\n            scope = this._children;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (!func.call(scope, val, key)) {\r\n                return;\r\n            }\r\n\r\n            result = [key, self.getChild(key)];\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public map(func: Function): Hash<T> {\r\n        var resultMap = {};\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            var result = func(val, key);\r\n\r\n            if (result !== $REMOVE) {\r\n                Log.error(!JudgeUtils.isArray(result) || result.length !== 2, Log.info.FUNC_MUST_BE(\"iterator\", \"[key, value]\"));\r\n\r\n                resultMap[result[0]] = result[1];\r\n            }\r\n        });\r\n\r\n        return Hash.create<T>(resultMap);\r\n    }\r\n\r\n    public toCollection(): Collection<any> {\r\n        var result = Collection.create<any>();\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result.addChildren(val);\r\n            }\r\n            //else if(val instanceof Hash){\r\n            //    Log.error(true, Log.info.FUNC_NOT_SUPPORT(\"toCollection\", \"value is Hash\"));\r\n            //}\r\n            else {\r\n                result.addChild(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public toArray(): Array<T> {\r\n        var result = [];\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result = result.concat(val.getChildren());\r\n            }\r\n            else {\r\n                result.push(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Hash<T>);\r\n    public clone(target: Hash<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Hash<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Hash.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Hash.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this._children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend({}, this._children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n}","import { BaseStream } from \"../stream/BaseStream\";\r\nimport { Record } from \"./Record\";\r\nimport { TestScheduler } from \"./TestScheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class TestStream extends BaseStream {\r\n    public static create(messages: [Record], scheduler: TestScheduler) {\r\n        var obj = new this(messages, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public scheduler: TestScheduler = null;\r\n    private _messages: [Record] = null;\r\n\r\n    constructor(messages: [Record], scheduler: TestScheduler) {\r\n        super(null);\r\n\r\n        this._messages = messages;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        //var scheduler = <TestScheduler>(this.scheduler);\r\n\r\n        this.scheduler.setStreamMap(observer, this._messages);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { Scheduler } from \"../core/Scheduler\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { Record } from \"./Record\";\r\nimport { ActionType } from \"./ActionType\";\r\nimport { Hash } from \"wonder-commonlib/dist/es2015/Hash\";\r\nimport { MockObserver } from \"./MockObserver\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { TestStream } from \"./TestStream\";\r\nimport { MockPromise } from \"./MockPromise\";\r\n\r\nconst SUBSCRIBE_TIME = 200;\r\nconst DISPOSE_TIME = 1000;\r\n\r\nexport class TestScheduler extends Scheduler {\r\n    public static next(tick, value) {\r\n        if (JudgeUtils.isDirectObject(value)) {\r\n            return Record.create(tick, value, ActionType.NEXT, (a, b) => {\r\n                var result = true;\r\n\r\n                for (let i in a) {\r\n                    if (a.hasOwnProperty(i)) {\r\n                        if (a[i] !== b[i]) {\r\n                            result = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            });\r\n        }\r\n        else {\r\n            return Record.create(tick, value, ActionType.NEXT);\r\n        }\r\n    }\r\n\r\n    public static error(tick, error) {\r\n        return Record.create(tick, error, ActionType.ERROR);\r\n    }\r\n\r\n    public static completed(tick) {\r\n        return Record.create(tick, null, ActionType.COMPLETED);\r\n    }\r\n\r\n    public static create(isReset: boolean = false) {\r\n        var obj = new this(isReset);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(isReset: boolean) {\r\n        super();\r\n\r\n        this._isReset = isReset;\r\n    }\r\n\r\n    private _clock: number = null;\r\n    get clock() {\r\n        return this._clock;\r\n    }\r\n\r\n    set clock(clock: number) {\r\n        this._clock = clock;\r\n    }\r\n\r\n    private _isReset: boolean = false;\r\n    private _isDisposed: boolean = false;\r\n    private _timerMap: Hash<Function> = Hash.create<Function>();\r\n    private _streamMap: Hash<Function> = Hash.create<Function>();\r\n    private _subscribedTime: number = null;\r\n    private _disposedTime: number = null;\r\n    private _observer: MockObserver = null;\r\n\r\n    public setStreamMap(observer: IObserver, messages: [Record]) {\r\n        var self = this;\r\n\r\n        messages.forEach((record: Record) => {\r\n            var func = null;\r\n\r\n            switch (record.actionType) {\r\n                case ActionType.NEXT:\r\n                    func = () => {\r\n                        observer.next(record.value);\r\n                    };\r\n                    break;\r\n                case ActionType.ERROR:\r\n                    func = () => {\r\n                        observer.error(record.value);\r\n                    };\r\n                    break;\r\n                case ActionType.COMPLETED:\r\n                    func = () => {\r\n                        observer.completed();\r\n                    };\r\n                    break;\r\n                default:\r\n                    Log.error(true, Log.info.FUNC_UNKNOW(\"actionType\"));\r\n                    break;\r\n            }\r\n\r\n            self._streamMap.addChild(String(record.time), func);\r\n        });\r\n    }\r\n\r\n    public remove(observer: Observer) {\r\n        this._isDisposed = true;\r\n    }\r\n\r\n    public publishRecursive(observer: MockObserver, initial: any, recursiveFunc: Function) {\r\n        var self = this,\r\n            //messages = [],\r\n            next = null,\r\n            completed = null;\r\n\r\n        this._setClock();\r\n\r\n        next = observer.next;\r\n        completed = observer.completed;\r\n\r\n        observer.next = (value) => {\r\n            next.call(observer, value);\r\n            self._tick(1);\r\n        };\r\n\r\n        observer.completed = () => {\r\n            completed.call(observer);\r\n            self._tick(1);\r\n        };\r\n\r\n        recursiveFunc(initial);\r\n    }\r\n\r\n    public publishInterval(observer: IObserver, initial: any, interval: number, action: Function): number {\r\n        //produce 10 val for test\r\n        var COUNT = 10,\r\n            messages = [];\r\n\r\n        this._setClock();\r\n\r\n        while (COUNT > 0 && !this._isDisposed) {\r\n            this._tick(interval);\r\n            messages.push(TestScheduler.next(this._clock, initial));\r\n\r\n            //no need to invoke action\r\n            //action(initial);\r\n\r\n            initial++;\r\n            COUNT--;\r\n        }\r\n\r\n        this.setStreamMap(observer, <[Record]>messages);\r\n        //this.setStreamMap(this._observer, <[Record]>messages);\r\n\r\n        return NaN;\r\n    }\r\n\r\n    public publishIntervalRequest(observer: IObserver, action: Function): number {\r\n        //produce 10 val for test\r\n        var COUNT = 10,\r\n            messages = [],\r\n            interval = 100,\r\n            num = 0;\r\n\r\n        this._setClock();\r\n\r\n        while (COUNT > 0 && !this._isDisposed) {\r\n            this._tick(interval);\r\n            messages.push(TestScheduler.next(this._clock, num));\r\n\r\n            num++;\r\n            COUNT--;\r\n        }\r\n\r\n        this.setStreamMap(observer, <[Record]>messages);\r\n        //this.setStreamMap(this._observer, <[Record]>messages);\r\n\r\n        return NaN;\r\n    }\r\n\r\n    public publishTimeout(observer: IObserver, time: number, action: Function): number {\r\n        var messages = [];\r\n\r\n        this._setClock();\r\n\r\n        this._tick(time);\r\n\r\n        messages.push(TestScheduler.next(this._clock, time), TestScheduler.completed(this._clock + 1));\r\n\r\n        this.setStreamMap(observer, <[Record]>messages);\r\n\r\n        return NaN;\r\n    }\r\n\r\n    private _setClock() {\r\n        if (this._isReset) {\r\n            this._clock = this._subscribedTime;\r\n        }\r\n    }\r\n\r\n    public startWithTime(create: Function, subscribedTime: number, disposedTime: number) {\r\n        var observer = this.createObserver(),\r\n            source, subscription,\r\n            self = this;\r\n\r\n        this._subscribedTime = subscribedTime;\r\n        this._disposedTime = disposedTime;\r\n\r\n        this._clock = subscribedTime;\r\n\r\n        this._runAt(subscribedTime, () => {\r\n            source = create();\r\n            subscription = source.subscribe(observer);\r\n        });\r\n\r\n        this._runAt(disposedTime, () => {\r\n            subscription.dispose();\r\n            self._isDisposed = true;\r\n        });\r\n\r\n        this._observer = observer;\r\n\r\n        this.start();\r\n\r\n        return observer;\r\n    }\r\n\r\n    public startWithSubscribe(create, subscribedTime = SUBSCRIBE_TIME) {\r\n        return this.startWithTime(create, subscribedTime, DISPOSE_TIME);\r\n    }\r\n\r\n    public startWithDispose(create, disposedTime = DISPOSE_TIME) {\r\n        return this.startWithTime(create, SUBSCRIBE_TIME, disposedTime);\r\n    }\r\n\r\n    public publicAbsolute(time, handler) {\r\n        this._runAt(time, () => {\r\n            handler();\r\n        });\r\n    }\r\n\r\n    public start() {\r\n        var extremeNumArr = this._getMinAndMaxTime(),\r\n            min = extremeNumArr[0],\r\n            max = extremeNumArr[1],\r\n            time = min;\r\n\r\n        //todo reduce loop time\r\n        while (time <= max) {\r\n            //if(this._isDisposed){\r\n            //    break;\r\n            //}\r\n\r\n            //because \"_exec,_runStream\" may change \"_clock\",\r\n            //so it should reset the _clock\r\n\r\n            this._clock = time;\r\n\r\n            this._exec(time, this._timerMap);\r\n\r\n            this._clock = time;\r\n\r\n            this._runStream(time);\r\n\r\n            time++;\r\n\r\n            //todo get max time only from streamMap?\r\n            //need refresh max time.\r\n            //because if timerMap has callback that create infinite stream(as interval),\r\n            //it will set streamMap so that the max time will change\r\n            max = this._getMinAndMaxTime()[1];\r\n        }\r\n    }\r\n\r\n    public createStream(args) {\r\n        return TestStream.create(Array.prototype.slice.call(arguments, 0), this);\r\n    }\r\n\r\n    public createObserver() {\r\n        return MockObserver.create(this);\r\n    }\r\n\r\n    public createResolvedPromise(time: number, value: any) {\r\n        return MockPromise.create(this, [TestScheduler.next(time, value), TestScheduler.completed(time + 1)]);\r\n    }\r\n\r\n    public createRejectPromise(time: number, error: any) {\r\n        return MockPromise.create(this, [TestScheduler.error(time, error)]);\r\n    }\r\n\r\n    private _getMinAndMaxTime() {\r\n        var timeArr: any = (this._timerMap.getKeys().addChildren(this._streamMap.getKeys()));\r\n\r\n        timeArr = timeArr.map((key) => {\r\n            return Number(key);\r\n        }).toArray();\r\n\r\n        return [Math.min.apply(Math, timeArr), Math.max.apply(Math, timeArr)];\r\n    }\r\n\r\n    private _exec(time, map) {\r\n        var handler = map.getChild(String(time));\r\n\r\n        if (handler) {\r\n            handler();\r\n        }\r\n    }\r\n\r\n    private _runStream(time) {\r\n        var handler = this._streamMap.getChild(String(time));\r\n\r\n        if (handler) {\r\n            handler();\r\n        }\r\n    }\r\n\r\n    private _runAt(time: number, callback: Function) {\r\n        this._timerMap.addChild(String(time), callback);\r\n    }\r\n\r\n    private _tick(time: number) {\r\n        this._clock += time;\r\n    }\r\n}","import { root } from \"../global/Variable\";\r\n\r\nroot.requestNextAnimationFrame = (function() {\r\n    var originalRequestAnimationFrame = undefined,\r\n        wrapper = undefined,\r\n        callback = undefined,\r\n        geckoVersion = null,\r\n        userAgent = root.navigator && root.navigator.userAgent,\r\n        index = 0,\r\n        self = this;\r\n\r\n    wrapper = function(time) {\r\n        time = root.performance.now();\r\n        self.callback(time);\r\n    };\r\n\r\n    /*!\r\n     bug!\r\n     below code:\r\n     when invoke b after 1s, will only invoke b, not invoke a!\r\n\r\n     function a(time){\r\n     console.log(\"a\", time);\r\n     webkitRequestAnimationFrame(a);\r\n     }\r\n\r\n     function b(time){\r\n     console.log(\"b\", time);\r\n     webkitRequestAnimationFrame(b);\r\n     }\r\n\r\n     a();\r\n\r\n     setTimeout(b, 1000);\r\n\r\n\r\n\r\n     so use requestAnimationFrame priority!\r\n     */\r\n    if (root.requestAnimationFrame) {\r\n        return requestAnimationFrame;\r\n    }\r\n\r\n\r\n    // Workaround for Chrome 10 bug where Chrome\r\n    // does not pass the time to the animation function\r\n\r\n    if (root.webkitRequestAnimationFrame) {\r\n        // Define the wrapper\r\n\r\n        // Make the switch\r\n\r\n        originalRequestAnimationFrame = root.webkitRequestAnimationFrame;\r\n\r\n        root.webkitRequestAnimationFrame = function(callback, element) {\r\n            self.callback = callback;\r\n\r\n            // Browser calls the wrapper and wrapper calls the callback\r\n\r\n            return originalRequestAnimationFrame(wrapper, element);\r\n        }\r\n    }\r\n\r\n    //修改time参数\r\n    if (root.msRequestAnimationFrame) {\r\n        originalRequestAnimationFrame = root.msRequestAnimationFrame;\r\n\r\n        root.msRequestAnimationFrame = function(callback) {\r\n            self.callback = callback;\r\n\r\n            return originalRequestAnimationFrame(wrapper);\r\n        }\r\n    }\r\n\r\n    // Workaround for Gecko 2.0, which has a bug in\r\n    // mozRequestAnimationFrame() that restricts animations\r\n    // to 30-40 fps.\r\n\r\n    if (root.mozRequestAnimationFrame) {\r\n        // Check the Gecko version. Gecko is used by browsers\r\n        // other than Firefox. Gecko 2.0 corresponds to\r\n        // Firefox 4.0.\r\n\r\n        index = userAgent.indexOf('rv:');\r\n\r\n        if (userAgent.indexOf('Gecko') != -1) {\r\n            geckoVersion = userAgent.substr(index + 3, 3);\r\n\r\n            if (geckoVersion === '2.0') {\r\n                // Forces the return statement to fall through\r\n                // to the setTimeout() function.\r\n\r\n                root.mozRequestAnimationFrame = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    return root.webkitRequestAnimationFrame ||\r\n        root.mozRequestAnimationFrame ||\r\n        root.oRequestAnimationFrame ||\r\n        root.msRequestAnimationFrame ||\r\n\r\n        function(callback, element) {\r\n            var start,\r\n                finish;\r\n\r\n            root.setTimeout(function() {\r\n                start = root.performance.now();\r\n                callback(start);\r\n                finish = root.performance.now();\r\n\r\n                self.timeout = 1000 / 60 - (finish - start);\r\n\r\n            }, self.timeout);\r\n        };\r\n}());\r\n\r\nroot.cancelNextRequestAnimationFrame = root.cancelRequestAnimationFrame\r\n    || root.webkitCancelAnimationFrame\r\n    || root.webkitCancelRequestAnimationFrame\r\n    || root.mozCancelRequestAnimationFrame\r\n    || root.oCancelRequestAnimationFrame\r\n    || root.msCancelRequestAnimationFrame\r\n    || clearTimeout;\r\n\r\n"],"names":["JudgeUtils","JudgeUtils$","root","FilterState","InnerObserver","ConcatStream","DoStream","FilterStream","FilterWithStateStream","IgnoreElementsStream","MapStream","MergeAllStream","MergeStream","RepeatStream","SkipUntilStream","TakeUntilStream","ActionType"],"mappings":"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"}